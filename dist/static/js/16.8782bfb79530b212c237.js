webpackJsonp([16],{X9U7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),n=i("NYxO"),d={data:function(){return{chIndex:1,addId:1,provinceId:"",cityId:"",isEdit:!1,selectedIndex:-1,visible:!1,adList:[],address:"",reqData:{phone:"",province:"北京市",name:"",city:"北京市",street:"",code:"0",district:"朝阳区"},addressList:[]}},created:function(){var t=this.$route.params.item;t&&(this.reqData=t,this.isEdit=!0,this.address=t.province+"-"+t.city+"-"+t.district),this.getProvince()},computed:{isActive:function(){return this.reqData.phone&&this.reqData.name&&this.reqData.street}},methods:s()({},Object(n.b)(["ajax"]),{delteAddress:function(){this.ajax({name:"delAdress",data:{address_id:this.reqData.id}}).then(function(t){console.log(t,789)})},getProvince:function(){var t=this;this.ajax({name:"getProvince"}).then(function(e){t.adList=e})},getCity:function(){var t=this;this.ajax({name:"getCity",data:{pre:this.provinceId}}).then(function(e){t.adList=e})},getDistrict:function(){var t=this;this.ajax({name:"getDistrict",data:{pre:this.cityId}}).then(function(e){t.adList=e})},choice:function(t,e){this.selectedIndex=e,this.addressId=t.id,1==this.addId?(this.reqData.province=t.name,this.addId=2,this.chIndex=2,this.provinceId=t.id,this.getCity(),this.selectedIndex=-1):2==this.addId?(this.reqData.city=t.name,this.addId=3,this.chIndex=3,this.cityId=t.id,this.getDistrict(),this.selectedIndex=-1):this.reqData.district=t.name},addRessClick:function(t){this.chIndex=t,this.selectedIndex=-1,1==t?(this.getProvince(),this.addId=1):2==t&&2==this.addId?this.getCity():3==t&&3==this.addId&&this.getDistrict()},confirm:function(){this.address=this.reqData.province+"-"+this.reqData.city+"-"+this.reqData.district},confirmSubmit:function(){var t=this;this.ajax({name:"addAdress",data:this.reqData}).then(function(e){t.$router.back(-1)})}})},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editaddress"},[i("v-header",[t._v("\n    "+t._s(t.isEdit?"编辑地址":"添加地址")+"\n    "),t.isEdit?i("div",{attrs:{slot:"headright"},slot:"headright"},[i("span",{staticClass:"deleteAddresss",on:{click:function(e){t.delteAddress()}}},[t._v("删除")])]):t._e()]),t._v(" "),i("ul",{staticClass:"form"},[i("li",[i("v-form-input",{attrs:{label:"姓名",maxlength:"20",placeholder:"请填写收货人姓名"},model:{value:t.reqData.name,callback:function(e){t.$set(t.reqData,"name",e)},expression:"reqData.name"}})],1),t._v(" "),i("li",[i("v-form-input",{attrs:{label:"手机号",maxlength:"11",placeholder:"请填写收货人手机号"},model:{value:t.reqData.phone,callback:function(e){t.$set(t.reqData,"phone",e)},expression:"reqData.phone"}})],1),t._v(" "),i("li",[i("label",[t._v("所在地区")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text",placeholder:"请选择收货人所在地区",readonly:""},domProps:{value:t.address},on:{click:function(e){t.visible=!0},input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),i("li",[i("v-form-input",{attrs:{label:"详细地址",maxlength:"6",placeholder:"请填写街道、楼牌号等信息"},model:{value:t.reqData.street,callback:function(e){t.$set(t.reqData,"street",e)},expression:"reqData.street"}})],1),t._v(" "),i("li",[i("label",[t._v("设为默认")]),t._v(" "),i("span",[i("mt-switch",{model:{value:t.reqData.lock,callback:function(e){t.$set(t.reqData,"lock",e)},expression:"reqData.lock"}})],1)])]),t._v(" "),i("v-slide-up",{attrs:{title:"选择区域"},on:{confirm:function(e){t.confirm()}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("ul",{staticClass:"addChoice"},[i("li",{on:{click:function(e){t.addRessClick(1)}}},[t._v(t._s(t.reqData.province)+"\n        "),1==t.chIndex?i("i"):t._e()]),t._v(" "),i("li",{on:{click:function(e){t.addRessClick(2)}}},[t._v(t._s(t.reqData.city)+"\n        "),2==t.chIndex?i("i"):t._e()]),t._v(" "),i("li",{on:{click:function(e){t.addRessClick(3)}}},[t._v(t._s(t.reqData.district)+"\n        "),3==t.chIndex?i("i"):t._e()])]),t._v(" "),i("ul",{staticClass:"addList"},t._l(t.adList,function(e,a){return i("li",{key:a,class:{actived:t.selectedIndex==a},on:{click:function(i){t.choice(e,a)}}},[t._v(t._s(e.name))])}))]),t._v(" "),i("div",{staticClass:"btns"},[i("button",{staticClass:"btn",class:{active:t.isActive},on:{click:function(e){t.isActive&&t.confirmSubmit()}}},[t._v("确认提交")])])],1)},staticRenderFns:[]};var r=i("VU/8")(d,c,!1,function(t){i("ujrE")},"data-v-afb3c1c8",null);e.default=r.exports},ujrE:function(t,e){}});
//# sourceMappingURL=16.8782bfb79530b212c237.js.map